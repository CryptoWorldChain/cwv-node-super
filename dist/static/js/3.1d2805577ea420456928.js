webpackJsonp([3],{GlgJ:function(n,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("TIfe"),e={components:{Transactions:s("dkmA").a},data:function(){return{address:""}},mounted:function(){this.init()},methods:{init:function(){var n=Object(r.a)();this.address=n||""}}},a={render:function(){var n=this.$createElement,t=this._self._c||n;return t("div",[t("div",[t("h3",{staticClass:"title"},[this._v("交易记录")]),this._v(" "),t("Transactions",{attrs:{address:this.address}})],1)])},staticRenderFns:[]};var o=s("VU/8")(e,a,!1,function(n){s("eRCZ")},null,null);t.default=o.exports},Snac:function(n,t,s){var r=s("ZwP3");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);s("rjj0")("33f00107",r,!0)},W0GF:function(n,t,s){(n.exports=s("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},ZwP3:function(n,t,s){(n.exports=s("FZ+f")(!1)).push([n.i,"\n.text-error {\n  padding: 50px 0;\n  color: #f00;\n  font-size: 12px;\n  text-align: center;\n}\n",""])},dkmA:function(n,t,s){"use strict";var r=[{prop:"txHash",label:"交易哈希"},{prop:"blockHeight",label:"区块高度"},{prop:"age",label:"生成时间"},{prop:"from",label:"转出地址"},{prop:"to",label:"转入地址"},{prop:"status",label:"状态"}],e={props:{address:{required:!0,type:String}},data:function(){return{loading:null,columns:r,addressInfo:{},errmsg:""}},mounted:function(){this.init()},watch:{address:function(){this.init()}},computed:{transactions:function(){console.log("watch---addressinfo",this.addressInfo);var n=this,t=this.addressInfo,s=[];if(t.transactions){var r=t.transactions;s=r.map(function(t,s){var r=[];t.froms&&(r=t.froms.map(function(n,t){return n.address||""}));var e=[];return t.tos&&(e=t.tos.map(function(n,t){return n.address||""})),t.from=r.join(","),t.to=e.join(","),t.age=n.timeago().format(t.timeStamp),"null"==t.status&&(t.status=""),t})}return s}},methods:{init:function(){var n=this.address;this.initAddressInfo(n)},initAddressInfo:function(n){var t=this,s="";this.$route.query.address&&(s=this.$route.query.address),n&&(s=n),this.address=s,s&&(this.loading=this.$loading(),this.$http.post("/node/adr/pbgad.do",{address:s}).then(function(n){t.loading.close(),console.log("address --- info",n),1==n.retCode&&n.address?(t.addressInfo=n.address,t.errmsg=""):1!=n.retCode&&(t.$message.error("未能获取到账户详情"),t.errmsg="获取账户详情出错")}).catch(function(n){t.$message.error("获取账户错误"),t.errmsg="服务器请求出错",t.loading.close()}))}}},a={render:function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",[n.errmsg?n._e():s("el-table",{attrs:{data:n.transactions}},[n._l(n.columns,function(t){return["txHash"==t.prop?s("el-table-column",{key:t.prop,attrs:{label:t.label},scopedSlots:n._u([{key:"default",fn:function(t){return[s("router-link",{staticClass:"link",attrs:{to:{name:"TransactionInfo",query:{txHash:t.row.txHash}}}},[n._v(n._s(t.row.txHash))])]}}])}):s("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label}})]})],2),n._v(" "),s("div",{staticClass:"text-error"},[n._v(n._s(n.errmsg))])],1)},staticRenderFns:[]};var o=s("VU/8")(e,a,!1,function(n){s("Snac")},null,null);t.a=o.exports},eRCZ:function(n,t,s){var r=s("W0GF");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);s("rjj0")("590f9b0d",r,!0)}});