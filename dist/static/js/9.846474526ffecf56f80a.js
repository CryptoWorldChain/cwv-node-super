webpackJsonp([9],{"3zcI":function(o,t,s){var n=s("9xVS");"string"==typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);s("rjj0")("5e1bfd0d",n,!0)},"5Ml3":function(o,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{blockErr:"",transactons:[],blockInfo:{}}},mounted:function(){this.init()},beforeRouteUpdate:function(o,t,s){var n=this.blockInfo.height,l=o.query.height;0==n&&0==l?s(!1):s()},watch:{$route:"init"},methods:{init:function(){var o=this,t=this.$route.query.hash,s=this.$route.query.height;if(t)this.$loading(),this.$http.post("/block/blk/pbgha.do",{blockHash:t}).then(function(s){o.$loading().close(),console.dir(s.block),1==s.retCode&&s.block&&s.block.header?(o.blockErr="",o.blockInfo=s.block.header,o.transactons=s.block.body.transactions?s.block.body.transactions:[]):o.blockErr="未能加载hash为 "+t+" 的区块"}).catch(function(t){o.$loading().close(),o.blockErr="区块加载出错"});else{if(!s&&0!=s)return!1;if(0==(s=s.toString()));else{if(!s.match(/^\d+$/))return void(this.blockErr="区块高度错误");this.blockErr=""}this.$loading(),this.$http.post("/block/blk/pbghe.do",{blockHeight:s}).then(function(t){o.$loading().close(),1==t.retCode&&t.block&&t.block.header?(o.blockErr="",o.blockInfo=t.block.header,o.transactons=t.block.body.transactions?t.block.body.transactions:[]):o.blockErr="未能加载区块 #"+s}).catch(function(t){o.$loading().close(),o.blockErr="区块加载出错"})}}}},l={render:function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",{staticClass:"block-info"},[s("div",[s("h3",{staticClass:"title"},[o._v("区块详情")]),o._v(" "),s("div",[o.blockInfo.blockHash?s("div",[o.blockErr?s("div",{staticClass:"block-error"},[o._v(o._s(o.blockErr))]):s("div",[s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("Height:")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[s("router-link",{class:{"prev-block":!0,disabled:!(o.blockInfo.height>=1)},attrs:{to:{name:"BlockInfo",query:{height:o.blockInfo.height-1>=0?o.blockInfo.height-1:"0"}}}},[o._v("< Prev")]),o._v("\n              "+o._s(o.blockInfo.height)+"\n              "),s("router-link",{staticClass:"next-block",attrs:{to:{name:"BlockInfo",query:{height:o.blockInfo.height+1}}}},[o._v("Next >")])],1)],1),o._v(" "),s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("TimeStamp:")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[s("timeago",{attrs:{since:o.blockInfo.timestamp}})],1)],1),o._v(" "),s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("Transactions:")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[s("div",[o._v(o._s(o.transactons.length)+" transactons")])])],1),o._v(" "),s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("Hash:")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[o._v(o._s(o.blockInfo.blockHash))])],1),o._v(" "),s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("ParentHash:")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[s("router-link",{staticClass:"link",attrs:{to:{name:"BlockInfo",query:{hash:o.blockInfo.parentHash}}}},[o._v("\n                "+o._s(o.blockInfo.parentHash)+"\n              ")])],1)],1),o._v(" "),s("el-row",[s("el-col",{attrs:{span:4,xs:6}},[o._v("Reward")]),o._v(" "),s("el-col",{staticClass:"ellipsis",attrs:{span:20,xs:18}},[o._v("\n              "+o._s(parseFloat(o.blockInfo.reward)?parseFloat(o.blockInfo.reward):0)+"\n            ")])],1)],1)]):s("div",{staticClass:"input-error"},[o._v(o._s(o.blockErr))])])])])},staticRenderFns:[]};var e=s("VU/8")(n,l,!1,function(o){s("3zcI")},null,null);t.default=e.exports},"9xVS":function(o,t,s){(o.exports=s("FZ+f")(!1)).push([o.i,"\n.block-info .el-row {\n  padding: 8px 0;\n}\n.block-info .prev-block, .block-info .next-block {\n  display: inline-block;\n  vertical-align: middle;\n  width: 48px;\n  height: 22px;\n  text-align: center;\n  line-height: 22px;\n  color: #fff;\n  font-size: 12px;\n  background: #337ab7;\n  cursor: pointer;\n  margin: 0 6px;\n}\n.block-info .prev-block.disabled, .block-info .next-block.disabled {\n    background: #6c9fcc;\n}\n.block-info .block-error {\n  font-size: 12px;\n  color: #f00;\n  padding: 40px 10px;\n}\n",""])}});